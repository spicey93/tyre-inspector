<!-- views/partials/sidebar.ejs -->
<aside class="hidden md:flex fixed inset-y-0 left-0 w-64 border-r border-slate-200 bg-white z-40">
  <div class="flex flex-col w-full h-full">
    <nav class="flex-1 p-4 space-y-2">
      <div class="px-2 py-1 text-xs font-semibold text-slate-500">Navigation</div>

      <a href="/dashboard"
         class="flex items-center gap-2 px-3 py-2 rounded-lg
                <%= active === 'dashboard' ? 'bg-sky-50 text-sky-700 font-medium' : 'text-slate-700 hover:bg-slate-50' %>">
        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor"><path d="M12 3l9 7-1 1-8-6-8 6-1-1 9-7z"/><path d="M4 10v9h6v-6h4v6h6v-9"/></svg>
        Dashboard
      </a>

      <a href="/inspections"
         class="flex items-center gap-2 px-3 py-2 rounded-lg
                <%= active === 'inspections' ? 'bg-sky-50 text-sky-700 font-medium' : 'text-slate-700 hover:bg-slate-50' %>">
        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor"><path d="M4 6h16v2H4zM4 11h16v2H4zM4 16h16v2H4z"/></svg>
        Inspections
      </a>

      <% if (user && user.role === 'admin') { %>
        <a href="/technicians"
           class="flex items-center gap-2 px-3 py-2 rounded-lg
                  <%= active === 'technicians' ? 'bg-sky-50 text-sky-700 font-medium' : 'text-slate-700 hover:bg-slate-50' %>">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm-9 9a9 9 0 1 1 18 0Z"/></svg>
          Technicians
        </a>
      <% } %>
    </nav>

    <!-- Desktop logout -->
    <div class="p-4 border-t border-slate-200">
      <a href="/logout" class="inline-flex items-center gap-2 text-slate-700 hover:text-slate-900">
        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
          <path d="M10 3h7a2 2 0 0 1 2 2v3h-2V5h-7v14h7v-3h2v3a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Z"/>
          <path d="M14 12H5m0 0l3-3M5 12l3 3"/>
        </svg>
        Logout
      </a>
    </div>
  </div>
</aside>


